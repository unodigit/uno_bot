{
  "total_tests": 9,
  "passed": 0,
  "failed": 9,
  "skipped": 0,
  "details": [
    {
      "name": "test_session_resume_via_email_link",
      "status": "FAILED",
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /media/DATA/projects/autonomous-coding-uno-bot/.venv/bin/python\ncachedir: .pytest_cache\nrootdir: /media/DATA/projects/autonomous-coding-uno-bot/unobot\nconfigfile: pyproject.toml\nplugins: asyncio-1.3.0, langsmith-0.5.2, anyio-4.12.0, cov-7.0.0, base-url-2.1.0, playwright-0.7.2\nasyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 1 item\n\ntests/e2e/test_session_resume_email.py::test_session_resume_via_email_link FAILED\n\n=================================== FAILURES ===================================\n______________________ test_session_resume_via_email_link ______________________\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:469: in runtest\n    super().runtest()\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:716: in inner\n    runner.run(coro, context=context)\n/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py:93: in run\n    raise RuntimeError(\nE   RuntimeError: Runner.run() cannot be called from a running event loop\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\n=============================== warnings summary ===============================\nsrc/core/config.py:8\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/core/config.py:8: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class Settings(BaseSettings):\n\nsrc/schemas/booking.py:48\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/booking.py:48: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class BookingResponse(BaseModel):\n\nsrc/schemas/expert.py:56\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:56: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertResponse(ExpertBase):\n\nsrc/schemas/expert.py:70\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:70: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertPublicResponse(BaseModel):\n\nsrc/schemas/prd.py:21\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/prd.py:21: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class PRDResponse(BaseModel):\n\nsrc/schemas/session.py:45\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:45: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class SessionResponse(BaseModel):\n\nsrc/schemas/session.py:80\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:80: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class MessageResponse(BaseModel):\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:19\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:19: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token = pp.Word(tchar).setName(\"token\")\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'leaveWhitespace' deprecated - use 'leave_whitespace'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setParseAction' deprecated - use 'set_parse_action'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'addParseAction' deprecated - use 'add_parse_action'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:27\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:27: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    params = pp.Dict(pp.delimitedList(pp.Group(auth_param)))\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:33\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:33: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    www_authenticate = pp.delimitedList(pp.Group(challenge))\n\ntests/e2e/test_session_resume_email.py::test_session_resume_via_email_link\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:819: RuntimeWarning: An exception occurred during teardown of an asyncio.Runner. The reason is likely that you closed the underlying event loop in a test, which prevents the cleanup of asynchronous generators by the runner.\n  This warning will become an error in future versions of pytest-asyncio. Please ensure that your tests don't close the event loop. Here is the traceback of the exception triggered during teardown:\n  Traceback (most recent call last):\n    File \"/media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py\", line 817, in _scoped_runner\n      runner.__exit__(None, None, None)\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 63, in __exit__\n      self.close()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 72, in close\n      loop.run_until_complete(loop.shutdown_asyncgens())\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 630, in run_until_complete\n      self._check_running()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 591, in _check_running\n      raise RuntimeError(\n  RuntimeError: Cannot run the event loop while another loop is running\n  \n  \n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ============================\nFAILED tests/e2e/test_session_resume_email.py::test_session_resume_via_email_link - RuntimeError: Runner.run() cannot be called from a running event loop\n======================== 1 failed, 17 warnings in 0.43s ========================\n",
      "stderr": "2026-01-02 16:57:02,782 - asyncio - DEBUG - Using selector: EpollSelector\n2026-01-02 16:57:03,143 - asyncio - DEBUG - Using selector: EpollSelector\nsys:1: RuntimeWarning: coroutine 'test_session_resume_via_email_link' was never awaited\n"
    },
    {
      "name": "test_session_resume_preserves_conversation_history",
      "status": "FAILED",
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /media/DATA/projects/autonomous-coding-uno-bot/.venv/bin/python\ncachedir: .pytest_cache\nrootdir: /media/DATA/projects/autonomous-coding-uno-bot/unobot\nconfigfile: pyproject.toml\nplugins: asyncio-1.3.0, langsmith-0.5.2, anyio-4.12.0, cov-7.0.0, base-url-2.1.0, playwright-0.7.2\nasyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 1 item\n\ntests/e2e/test_session_resume_email.py::test_session_resume_preserves_conversation_history FAILED\n\n=================================== FAILURES ===================================\n______________ test_session_resume_preserves_conversation_history ______________\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:469: in runtest\n    super().runtest()\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:716: in inner\n    runner.run(coro, context=context)\n/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py:93: in run\n    raise RuntimeError(\nE   RuntimeError: Runner.run() cannot be called from a running event loop\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\n=============================== warnings summary ===============================\nsrc/core/config.py:8\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/core/config.py:8: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class Settings(BaseSettings):\n\nsrc/schemas/booking.py:48\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/booking.py:48: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class BookingResponse(BaseModel):\n\nsrc/schemas/expert.py:56\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:56: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertResponse(ExpertBase):\n\nsrc/schemas/expert.py:70\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:70: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertPublicResponse(BaseModel):\n\nsrc/schemas/prd.py:21\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/prd.py:21: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class PRDResponse(BaseModel):\n\nsrc/schemas/session.py:45\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:45: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class SessionResponse(BaseModel):\n\nsrc/schemas/session.py:80\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:80: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class MessageResponse(BaseModel):\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:19\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:19: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token = pp.Word(tchar).setName(\"token\")\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'leaveWhitespace' deprecated - use 'leave_whitespace'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setParseAction' deprecated - use 'set_parse_action'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'addParseAction' deprecated - use 'add_parse_action'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:27\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:27: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    params = pp.Dict(pp.delimitedList(pp.Group(auth_param)))\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:33\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:33: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    www_authenticate = pp.delimitedList(pp.Group(challenge))\n\ntests/e2e/test_session_resume_email.py::test_session_resume_preserves_conversation_history\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:819: RuntimeWarning: An exception occurred during teardown of an asyncio.Runner. The reason is likely that you closed the underlying event loop in a test, which prevents the cleanup of asynchronous generators by the runner.\n  This warning will become an error in future versions of pytest-asyncio. Please ensure that your tests don't close the event loop. Here is the traceback of the exception triggered during teardown:\n  Traceback (most recent call last):\n    File \"/media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py\", line 817, in _scoped_runner\n      runner.__exit__(None, None, None)\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 63, in __exit__\n      self.close()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 72, in close\n      loop.run_until_complete(loop.shutdown_asyncgens())\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 630, in run_until_complete\n      self._check_running()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 591, in _check_running\n      raise RuntimeError(\n  RuntimeError: Cannot run the event loop while another loop is running\n  \n  \n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ============================\nFAILED tests/e2e/test_session_resume_email.py::test_session_resume_preserves_conversation_history - RuntimeError: Runner.run() cannot be called from a running event loop\n======================== 1 failed, 17 warnings in 0.40s ========================\n",
      "stderr": "2026-01-02 16:57:04,917 - asyncio - DEBUG - Using selector: EpollSelector\n2026-01-02 16:57:05,258 - asyncio - DEBUG - Using selector: EpollSelector\nsys:1: RuntimeWarning: coroutine 'test_session_resume_preserves_conversation_history' was never awaited\n"
    },
    {
      "name": "test_session_resume_preserves_session_context",
      "status": "FAILED",
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /media/DATA/projects/autonomous-coding-uno-bot/.venv/bin/python\ncachedir: .pytest_cache\nrootdir: /media/DATA/projects/autonomous-coding-uno-bot/unobot\nconfigfile: pyproject.toml\nplugins: asyncio-1.3.0, langsmith-0.5.2, anyio-4.12.0, cov-7.0.0, base-url-2.1.0, playwright-0.7.2\nasyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 1 item\n\ntests/e2e/test_session_resume_email.py::test_session_resume_preserves_session_context FAILED\n\n=================================== FAILURES ===================================\n________________ test_session_resume_preserves_session_context _________________\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:469: in runtest\n    super().runtest()\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:716: in inner\n    runner.run(coro, context=context)\n/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py:93: in run\n    raise RuntimeError(\nE   RuntimeError: Runner.run() cannot be called from a running event loop\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\n=============================== warnings summary ===============================\nsrc/core/config.py:8\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/core/config.py:8: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class Settings(BaseSettings):\n\nsrc/schemas/booking.py:48\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/booking.py:48: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class BookingResponse(BaseModel):\n\nsrc/schemas/expert.py:56\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:56: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertResponse(ExpertBase):\n\nsrc/schemas/expert.py:70\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:70: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertPublicResponse(BaseModel):\n\nsrc/schemas/prd.py:21\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/prd.py:21: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class PRDResponse(BaseModel):\n\nsrc/schemas/session.py:45\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:45: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class SessionResponse(BaseModel):\n\nsrc/schemas/session.py:80\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:80: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class MessageResponse(BaseModel):\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:19\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:19: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token = pp.Word(tchar).setName(\"token\")\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'leaveWhitespace' deprecated - use 'leave_whitespace'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setParseAction' deprecated - use 'set_parse_action'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'addParseAction' deprecated - use 'add_parse_action'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:27\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:27: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    params = pp.Dict(pp.delimitedList(pp.Group(auth_param)))\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:33\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:33: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    www_authenticate = pp.delimitedList(pp.Group(challenge))\n\ntests/e2e/test_session_resume_email.py::test_session_resume_preserves_session_context\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:819: RuntimeWarning: An exception occurred during teardown of an asyncio.Runner. The reason is likely that you closed the underlying event loop in a test, which prevents the cleanup of asynchronous generators by the runner.\n  This warning will become an error in future versions of pytest-asyncio. Please ensure that your tests don't close the event loop. Here is the traceback of the exception triggered during teardown:\n  Traceback (most recent call last):\n    File \"/media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py\", line 817, in _scoped_runner\n      runner.__exit__(None, None, None)\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 63, in __exit__\n      self.close()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 72, in close\n      loop.run_until_complete(loop.shutdown_asyncgens())\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 630, in run_until_complete\n      self._check_running()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 591, in _check_running\n      raise RuntimeError(\n  RuntimeError: Cannot run the event loop while another loop is running\n  \n  \n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ============================\nFAILED tests/e2e/test_session_resume_email.py::test_session_resume_preserves_session_context - RuntimeError: Runner.run() cannot be called from a running event loop\n======================== 1 failed, 17 warnings in 0.41s ========================\n",
      "stderr": "2026-01-02 16:57:06,899 - asyncio - DEBUG - Using selector: EpollSelector\n2026-01-02 16:57:07,248 - asyncio - DEBUG - Using selector: EpollSelector\nsys:1: RuntimeWarning: coroutine 'test_session_resume_preserves_session_context' was never awaited\n"
    },
    {
      "name": "test_session_resume_with_empty_conversation",
      "status": "FAILED",
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /media/DATA/projects/autonomous-coding-uno-bot/.venv/bin/python\ncachedir: .pytest_cache\nrootdir: /media/DATA/projects/autonomous-coding-uno-bot/unobot\nconfigfile: pyproject.toml\nplugins: asyncio-1.3.0, langsmith-0.5.2, anyio-4.12.0, cov-7.0.0, base-url-2.1.0, playwright-0.7.2\nasyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 1 item\n\ntests/e2e/test_session_resume_email.py::test_session_resume_with_empty_conversation FAILED\n\n=================================== FAILURES ===================================\n_________________ test_session_resume_with_empty_conversation __________________\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:469: in runtest\n    super().runtest()\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:716: in inner\n    runner.run(coro, context=context)\n/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py:93: in run\n    raise RuntimeError(\nE   RuntimeError: Runner.run() cannot be called from a running event loop\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\n=============================== warnings summary ===============================\nsrc/core/config.py:8\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/core/config.py:8: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class Settings(BaseSettings):\n\nsrc/schemas/booking.py:48\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/booking.py:48: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class BookingResponse(BaseModel):\n\nsrc/schemas/expert.py:56\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:56: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertResponse(ExpertBase):\n\nsrc/schemas/expert.py:70\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:70: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertPublicResponse(BaseModel):\n\nsrc/schemas/prd.py:21\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/prd.py:21: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class PRDResponse(BaseModel):\n\nsrc/schemas/session.py:45\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:45: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class SessionResponse(BaseModel):\n\nsrc/schemas/session.py:80\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:80: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class MessageResponse(BaseModel):\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:19\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:19: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token = pp.Word(tchar).setName(\"token\")\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'leaveWhitespace' deprecated - use 'leave_whitespace'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setParseAction' deprecated - use 'set_parse_action'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'addParseAction' deprecated - use 'add_parse_action'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:27\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:27: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    params = pp.Dict(pp.delimitedList(pp.Group(auth_param)))\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:33\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:33: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    www_authenticate = pp.delimitedList(pp.Group(challenge))\n\ntests/e2e/test_session_resume_email.py::test_session_resume_with_empty_conversation\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:819: RuntimeWarning: An exception occurred during teardown of an asyncio.Runner. The reason is likely that you closed the underlying event loop in a test, which prevents the cleanup of asynchronous generators by the runner.\n  This warning will become an error in future versions of pytest-asyncio. Please ensure that your tests don't close the event loop. Here is the traceback of the exception triggered during teardown:\n  Traceback (most recent call last):\n    File \"/media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py\", line 817, in _scoped_runner\n      runner.__exit__(None, None, None)\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 63, in __exit__\n      self.close()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 72, in close\n      loop.run_until_complete(loop.shutdown_asyncgens())\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 630, in run_until_complete\n      self._check_running()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 591, in _check_running\n      raise RuntimeError(\n  RuntimeError: Cannot run the event loop while another loop is running\n  \n  \n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ============================\nFAILED tests/e2e/test_session_resume_email.py::test_session_resume_with_empty_conversation - RuntimeError: Runner.run() cannot be called from a running event loop\n======================== 1 failed, 17 warnings in 0.40s ========================\n",
      "stderr": "2026-01-02 16:57:08,885 - asyncio - DEBUG - Using selector: EpollSelector\n2026-01-02 16:57:09,224 - asyncio - DEBUG - Using selector: EpollSelector\nsys:1: RuntimeWarning: coroutine 'test_session_resume_with_empty_conversation' was never awaited\n"
    },
    {
      "name": "test_session_resume_url_generation",
      "status": "FAILED",
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /media/DATA/projects/autonomous-coding-uno-bot/.venv/bin/python\ncachedir: .pytest_cache\nrootdir: /media/DATA/projects/autonomous-coding-uno-bot/unobot\nconfigfile: pyproject.toml\nplugins: asyncio-1.3.0, langsmith-0.5.2, anyio-4.12.0, cov-7.0.0, base-url-2.1.0, playwright-0.7.2\nasyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 1 item\n\ntests/e2e/test_session_resume_email.py::test_session_resume_url_generation FAILED\n\n=================================== FAILURES ===================================\n______________________ test_session_resume_url_generation ______________________\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:469: in runtest\n    super().runtest()\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:716: in inner\n    runner.run(coro, context=context)\n/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py:93: in run\n    raise RuntimeError(\nE   RuntimeError: Runner.run() cannot be called from a running event loop\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\n=============================== warnings summary ===============================\nsrc/core/config.py:8\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/core/config.py:8: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class Settings(BaseSettings):\n\nsrc/schemas/booking.py:48\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/booking.py:48: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class BookingResponse(BaseModel):\n\nsrc/schemas/expert.py:56\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:56: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertResponse(ExpertBase):\n\nsrc/schemas/expert.py:70\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:70: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertPublicResponse(BaseModel):\n\nsrc/schemas/prd.py:21\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/prd.py:21: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class PRDResponse(BaseModel):\n\nsrc/schemas/session.py:45\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:45: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class SessionResponse(BaseModel):\n\nsrc/schemas/session.py:80\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:80: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class MessageResponse(BaseModel):\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:19\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:19: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token = pp.Word(tchar).setName(\"token\")\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'leaveWhitespace' deprecated - use 'leave_whitespace'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setParseAction' deprecated - use 'set_parse_action'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'addParseAction' deprecated - use 'add_parse_action'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:27\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:27: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    params = pp.Dict(pp.delimitedList(pp.Group(auth_param)))\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:33\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:33: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    www_authenticate = pp.delimitedList(pp.Group(challenge))\n\ntests/e2e/test_session_resume_email.py::test_session_resume_url_generation\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:819: RuntimeWarning: An exception occurred during teardown of an asyncio.Runner. The reason is likely that you closed the underlying event loop in a test, which prevents the cleanup of asynchronous generators by the runner.\n  This warning will become an error in future versions of pytest-asyncio. Please ensure that your tests don't close the event loop. Here is the traceback of the exception triggered during teardown:\n  Traceback (most recent call last):\n    File \"/media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py\", line 817, in _scoped_runner\n      runner.__exit__(None, None, None)\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 63, in __exit__\n      self.close()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 72, in close\n      loop.run_until_complete(loop.shutdown_asyncgens())\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 630, in run_until_complete\n      self._check_running()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 591, in _check_running\n      raise RuntimeError(\n  RuntimeError: Cannot run the event loop while another loop is running\n  \n  \n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ============================\nFAILED tests/e2e/test_session_resume_email.py::test_session_resume_url_generation - RuntimeError: Runner.run() cannot be called from a running event loop\n======================== 1 failed, 17 warnings in 0.41s ========================\n",
      "stderr": "2026-01-02 16:57:10,933 - asyncio - DEBUG - Using selector: EpollSelector\n2026-01-02 16:57:11,275 - asyncio - DEBUG - Using selector: EpollSelector\nsys:1: RuntimeWarning: coroutine 'test_session_resume_url_generation' was never awaited\n"
    },
    {
      "name": "test_session_resume_multiple_times",
      "status": "FAILED",
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /media/DATA/projects/autonomous-coding-uno-bot/.venv/bin/python\ncachedir: .pytest_cache\nrootdir: /media/DATA/projects/autonomous-coding-uno-bot/unobot\nconfigfile: pyproject.toml\nplugins: asyncio-1.3.0, langsmith-0.5.2, anyio-4.12.0, cov-7.0.0, base-url-2.1.0, playwright-0.7.2\nasyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 1 item\n\ntests/e2e/test_session_resume_email.py::test_session_resume_multiple_times FAILED\n\n=================================== FAILURES ===================================\n______________________ test_session_resume_multiple_times ______________________\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:469: in runtest\n    super().runtest()\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:716: in inner\n    runner.run(coro, context=context)\n/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py:93: in run\n    raise RuntimeError(\nE   RuntimeError: Runner.run() cannot be called from a running event loop\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\n=============================== warnings summary ===============================\nsrc/core/config.py:8\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/core/config.py:8: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class Settings(BaseSettings):\n\nsrc/schemas/booking.py:48\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/booking.py:48: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class BookingResponse(BaseModel):\n\nsrc/schemas/expert.py:56\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:56: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertResponse(ExpertBase):\n\nsrc/schemas/expert.py:70\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:70: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertPublicResponse(BaseModel):\n\nsrc/schemas/prd.py:21\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/prd.py:21: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class PRDResponse(BaseModel):\n\nsrc/schemas/session.py:45\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:45: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class SessionResponse(BaseModel):\n\nsrc/schemas/session.py:80\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:80: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class MessageResponse(BaseModel):\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:19\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:19: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token = pp.Word(tchar).setName(\"token\")\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'leaveWhitespace' deprecated - use 'leave_whitespace'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setParseAction' deprecated - use 'set_parse_action'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'addParseAction' deprecated - use 'add_parse_action'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:27\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:27: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    params = pp.Dict(pp.delimitedList(pp.Group(auth_param)))\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:33\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:33: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    www_authenticate = pp.delimitedList(pp.Group(challenge))\n\ntests/e2e/test_session_resume_email.py::test_session_resume_multiple_times\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:819: RuntimeWarning: An exception occurred during teardown of an asyncio.Runner. The reason is likely that you closed the underlying event loop in a test, which prevents the cleanup of asynchronous generators by the runner.\n  This warning will become an error in future versions of pytest-asyncio. Please ensure that your tests don't close the event loop. Here is the traceback of the exception triggered during teardown:\n  Traceback (most recent call last):\n    File \"/media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py\", line 817, in _scoped_runner\n      runner.__exit__(None, None, None)\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 63, in __exit__\n      self.close()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 72, in close\n      loop.run_until_complete(loop.shutdown_asyncgens())\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 630, in run_until_complete\n      self._check_running()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 591, in _check_running\n      raise RuntimeError(\n  RuntimeError: Cannot run the event loop while another loop is running\n  \n  \n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ============================\nFAILED tests/e2e/test_session_resume_email.py::test_session_resume_multiple_times - RuntimeError: Runner.run() cannot be called from a running event loop\n======================== 1 failed, 17 warnings in 0.41s ========================\n",
      "stderr": "2026-01-02 16:57:13,045 - asyncio - DEBUG - Using selector: EpollSelector\n2026-01-02 16:57:13,388 - asyncio - DEBUG - Using selector: EpollSelector\nsys:1: RuntimeWarning: coroutine 'test_session_resume_multiple_times' was never awaited\n"
    },
    {
      "name": "test_session_resume_chat_widget_behavior",
      "status": "FAILED",
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /media/DATA/projects/autonomous-coding-uno-bot/.venv/bin/python\ncachedir: .pytest_cache\nrootdir: /media/DATA/projects/autonomous-coding-uno-bot/unobot\nconfigfile: pyproject.toml\nplugins: asyncio-1.3.0, langsmith-0.5.2, anyio-4.12.0, cov-7.0.0, base-url-2.1.0, playwright-0.7.2\nasyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 1 item\n\ntests/e2e/test_session_resume_email.py::test_session_resume_chat_widget_behavior FAILED\n\n=================================== FAILURES ===================================\n___________________ test_session_resume_chat_widget_behavior ___________________\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:469: in runtest\n    super().runtest()\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:716: in inner\n    runner.run(coro, context=context)\n/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py:93: in run\n    raise RuntimeError(\nE   RuntimeError: Runner.run() cannot be called from a running event loop\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\n=============================== warnings summary ===============================\nsrc/core/config.py:8\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/core/config.py:8: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class Settings(BaseSettings):\n\nsrc/schemas/booking.py:48\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/booking.py:48: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class BookingResponse(BaseModel):\n\nsrc/schemas/expert.py:56\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:56: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertResponse(ExpertBase):\n\nsrc/schemas/expert.py:70\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:70: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertPublicResponse(BaseModel):\n\nsrc/schemas/prd.py:21\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/prd.py:21: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class PRDResponse(BaseModel):\n\nsrc/schemas/session.py:45\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:45: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class SessionResponse(BaseModel):\n\nsrc/schemas/session.py:80\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:80: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class MessageResponse(BaseModel):\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:19\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:19: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token = pp.Word(tchar).setName(\"token\")\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'leaveWhitespace' deprecated - use 'leave_whitespace'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setParseAction' deprecated - use 'set_parse_action'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'addParseAction' deprecated - use 'add_parse_action'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:27\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:27: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    params = pp.Dict(pp.delimitedList(pp.Group(auth_param)))\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:33\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:33: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    www_authenticate = pp.delimitedList(pp.Group(challenge))\n\ntests/e2e/test_session_resume_email.py::test_session_resume_chat_widget_behavior\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:819: RuntimeWarning: An exception occurred during teardown of an asyncio.Runner. The reason is likely that you closed the underlying event loop in a test, which prevents the cleanup of asynchronous generators by the runner.\n  This warning will become an error in future versions of pytest-asyncio. Please ensure that your tests don't close the event loop. Here is the traceback of the exception triggered during teardown:\n  Traceback (most recent call last):\n    File \"/media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py\", line 817, in _scoped_runner\n      runner.__exit__(None, None, None)\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 63, in __exit__\n      self.close()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 72, in close\n      loop.run_until_complete(loop.shutdown_asyncgens())\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 630, in run_until_complete\n      self._check_running()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 591, in _check_running\n      raise RuntimeError(\n  RuntimeError: Cannot run the event loop while another loop is running\n  \n  \n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ============================\nFAILED tests/e2e/test_session_resume_email.py::test_session_resume_chat_widget_behavior - RuntimeError: Runner.run() cannot be called from a running event loop\n======================== 1 failed, 17 warnings in 0.41s ========================\n",
      "stderr": "2026-01-02 16:57:15,073 - asyncio - DEBUG - Using selector: EpollSelector\n2026-01-02 16:57:15,415 - asyncio - DEBUG - Using selector: EpollSelector\nsys:1: RuntimeWarning: coroutine 'test_session_resume_chat_widget_behavior' was never awaited\n"
    },
    {
      "name": "test_session_resume_url_parameter_handling",
      "status": "FAILED",
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /media/DATA/projects/autonomous-coding-uno-bot/.venv/bin/python\ncachedir: .pytest_cache\nrootdir: /media/DATA/projects/autonomous-coding-uno-bot/unobot\nconfigfile: pyproject.toml\nplugins: asyncio-1.3.0, langsmith-0.5.2, anyio-4.12.0, cov-7.0.0, base-url-2.1.0, playwright-0.7.2\nasyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 1 item\n\ntests/e2e/test_session_resume_email.py::test_session_resume_url_parameter_handling FAILED\n\n=================================== FAILURES ===================================\n__________________ test_session_resume_url_parameter_handling __________________\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:469: in runtest\n    super().runtest()\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:716: in inner\n    runner.run(coro, context=context)\n/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py:93: in run\n    raise RuntimeError(\nE   RuntimeError: Runner.run() cannot be called from a running event loop\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\n=============================== warnings summary ===============================\nsrc/core/config.py:8\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/core/config.py:8: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class Settings(BaseSettings):\n\nsrc/schemas/booking.py:48\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/booking.py:48: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class BookingResponse(BaseModel):\n\nsrc/schemas/expert.py:56\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:56: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertResponse(ExpertBase):\n\nsrc/schemas/expert.py:70\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:70: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertPublicResponse(BaseModel):\n\nsrc/schemas/prd.py:21\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/prd.py:21: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class PRDResponse(BaseModel):\n\nsrc/schemas/session.py:45\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:45: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class SessionResponse(BaseModel):\n\nsrc/schemas/session.py:80\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:80: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class MessageResponse(BaseModel):\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:19\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:19: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token = pp.Word(tchar).setName(\"token\")\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'leaveWhitespace' deprecated - use 'leave_whitespace'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setParseAction' deprecated - use 'set_parse_action'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'addParseAction' deprecated - use 'add_parse_action'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:27\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:27: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    params = pp.Dict(pp.delimitedList(pp.Group(auth_param)))\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:33\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:33: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    www_authenticate = pp.delimitedList(pp.Group(challenge))\n\ntests/e2e/test_session_resume_email.py::test_session_resume_url_parameter_handling\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:819: RuntimeWarning: An exception occurred during teardown of an asyncio.Runner. The reason is likely that you closed the underlying event loop in a test, which prevents the cleanup of asynchronous generators by the runner.\n  This warning will become an error in future versions of pytest-asyncio. Please ensure that your tests don't close the event loop. Here is the traceback of the exception triggered during teardown:\n  Traceback (most recent call last):\n    File \"/media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py\", line 817, in _scoped_runner\n      runner.__exit__(None, None, None)\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 63, in __exit__\n      self.close()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 72, in close\n      loop.run_until_complete(loop.shutdown_asyncgens())\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 630, in run_until_complete\n      self._check_running()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 591, in _check_running\n      raise RuntimeError(\n  RuntimeError: Cannot run the event loop while another loop is running\n  \n  \n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ============================\nFAILED tests/e2e/test_session_resume_email.py::test_session_resume_url_parameter_handling - RuntimeError: Runner.run() cannot be called from a running event loop\n======================== 1 failed, 17 warnings in 0.41s ========================\n",
      "stderr": "2026-01-02 16:57:17,087 - asyncio - DEBUG - Using selector: EpollSelector\n2026-01-02 16:57:17,427 - asyncio - DEBUG - Using selector: EpollSelector\nsys:1: RuntimeWarning: coroutine 'test_session_resume_url_parameter_handling' was never awaited\n"
    },
    {
      "name": "test_session_resume_without_parameter",
      "status": "FAILED",
      "stdout": "============================= test session starts ==============================\nplatform linux -- Python 3.11.14, pytest-9.0.2, pluggy-1.6.0 -- /media/DATA/projects/autonomous-coding-uno-bot/.venv/bin/python\ncachedir: .pytest_cache\nrootdir: /media/DATA/projects/autonomous-coding-uno-bot/unobot\nconfigfile: pyproject.toml\nplugins: asyncio-1.3.0, langsmith-0.5.2, anyio-4.12.0, cov-7.0.0, base-url-2.1.0, playwright-0.7.2\nasyncio: mode=Mode.AUTO, debug=False, asyncio_default_fixture_loop_scope=None, asyncio_default_test_loop_scope=function\ncollecting ... collected 1 item\n\ntests/e2e/test_session_resume_email.py::test_session_resume_without_parameter FAILED\n\n=================================== FAILURES ===================================\n____________________ test_session_resume_without_parameter _____________________\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:469: in runtest\n    super().runtest()\n../.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:716: in inner\n    runner.run(coro, context=context)\n/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py:93: in run\n    raise RuntimeError(\nE   RuntimeError: Runner.run() cannot be called from a running event loop\n------------------------------ Captured log setup ------------------------------\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\nDEBUG    asyncio:selector_events.py:54 Using selector: EpollSelector\n=============================== warnings summary ===============================\nsrc/core/config.py:8\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/core/config.py:8: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class Settings(BaseSettings):\n\nsrc/schemas/booking.py:48\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/booking.py:48: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class BookingResponse(BaseModel):\n\nsrc/schemas/expert.py:56\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:56: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertResponse(ExpertBase):\n\nsrc/schemas/expert.py:70\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/expert.py:70: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class ExpertPublicResponse(BaseModel):\n\nsrc/schemas/prd.py:21\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/prd.py:21: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class PRDResponse(BaseModel):\n\nsrc/schemas/session.py:45\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:45: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class SessionResponse(BaseModel):\n\nsrc/schemas/session.py:80\n  /media/DATA/projects/autonomous-coding-uno-bot/unobot/src/schemas/session.py:80: PydanticDeprecatedSince20: Support for class-based `config` is deprecated, use ConfigDict instead. Deprecated in Pydantic V2.0 to be removed in V3.0. See Pydantic V2 Migration Guide at https://errors.pydantic.dev/2.12/migration/\n    class MessageResponse(BaseModel):\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:19\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:19: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token = pp.Word(tchar).setName(\"token\")\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'leaveWhitespace' deprecated - use 'leave_whitespace'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:20\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:20: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    token68 = pp.Combine(pp.Word(\"-._~+/\" + pp.nums + pp.alphas) + pp.Optional(pp.Word(\"=\").leaveWhitespace())).setName(\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:24\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:24: DeprecationWarning: 'setParseAction' deprecated - use 'set_parse_action'\n    quoted_string = pp.dblQuotedString.copy().setName(\"quoted-string\").setParseAction(unquote)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'setName' deprecated - use 'set_name'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:25\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:25: DeprecationWarning: 'addParseAction' deprecated - use 'add_parse_action'\n    auth_param_name = token.copy().setName(\"auth-param-name\").addParseAction(downcaseTokens)\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:27\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:27: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    params = pp.Dict(pp.delimitedList(pp.Group(auth_param)))\n\n../.venv/lib/python3.11/site-packages/httplib2/auth.py:33\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/httplib2/auth.py:33: DeprecationWarning: 'delimitedList' deprecated - use 'DelimitedList'\n    www_authenticate = pp.delimitedList(pp.Group(challenge))\n\ntests/e2e/test_session_resume_email.py::test_session_resume_without_parameter\n  /media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py:819: RuntimeWarning: An exception occurred during teardown of an asyncio.Runner. The reason is likely that you closed the underlying event loop in a test, which prevents the cleanup of asynchronous generators by the runner.\n  This warning will become an error in future versions of pytest-asyncio. Please ensure that your tests don't close the event loop. Here is the traceback of the exception triggered during teardown:\n  Traceback (most recent call last):\n    File \"/media/DATA/projects/autonomous-coding-uno-bot/.venv/lib/python3.11/site-packages/pytest_asyncio/plugin.py\", line 817, in _scoped_runner\n      runner.__exit__(None, None, None)\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 63, in __exit__\n      self.close()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/runners.py\", line 72, in close\n      loop.run_until_complete(loop.shutdown_asyncgens())\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 630, in run_until_complete\n      self._check_running()\n    File \"/home/bowen/.local/share/uv/python/cpython-3.11.14-linux-x86_64-gnu/lib/python3.11/asyncio/base_events.py\", line 591, in _check_running\n      raise RuntimeError(\n  RuntimeError: Cannot run the event loop while another loop is running\n  \n  \n    warnings.warn(\n\n-- Docs: https://docs.pytest.org/en/stable/how-to/capture-warnings.html\n=========================== short test summary info ============================\nFAILED tests/e2e/test_session_resume_email.py::test_session_resume_without_parameter - RuntimeError: Runner.run() cannot be called from a running event loop\n======================== 1 failed, 17 warnings in 0.40s ========================\n",
      "stderr": "2026-01-02 16:57:19,133 - asyncio - DEBUG - Using selector: EpollSelector\n2026-01-02 16:57:19,470 - asyncio - DEBUG - Using selector: EpollSelector\nsys:1: RuntimeWarning: coroutine 'test_session_resume_without_parameter' was never awaited\n"
    }
  ]
}